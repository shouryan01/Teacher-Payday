{"version":3,"sources":["../../client/with-router.tsx"],"sourcesContent":["import React from 'react'\nimport { NextComponentType, NextPageContext } from '../shared/lib/utils'\nimport { NextRouter, useRouter } from './router'\n\nexport type WithRouterProps = {\n  router: NextRouter\n}\n\nexport type ExcludeRouterProps<P> = Pick<\n  P,\n  Exclude<keyof P, keyof WithRouterProps>\n>\n\n/**\n * `withRouter` is a higher-order component that takes a component and returns a new one\n * with an additional `router` prop.\n *\n * @example\n * ```\n * import {withRouter} from \"blitz\"\n *\n * function Page({router}) {\n *  return <p>{router.pathname}</p>\n * }\n *\n * export default withRouter(Page)\n * ```\n *\n * @param WrappedComponent - a React component that needs `router` object in props\n * @returns A component with a `router` object in props\n * @see Docs {@link https://blitzjs.com/docs/router#router-object | router}\n */\nexport default function withRouter<\n  P extends WithRouterProps,\n  C = NextPageContext\n>(\n  ComposedComponent: NextComponentType<C, any, P>\n): React.ComponentType<ExcludeRouterProps<P>> {\n  function WithRouterWrapper(props: any): JSX.Element {\n    return <ComposedComponent router={useRouter()} {...props} />\n  }\n\n  WithRouterWrapper.getInitialProps = ComposedComponent.getInitialProps\n  // This is needed to allow checking for custom getInitialProps in _app\n  ;(WithRouterWrapper as any).origGetInitialProps = (ComposedComponent as any).origGetInitialProps\n  if (process.env.NODE_ENV !== 'production') {\n    const name =\n      ComposedComponent.displayName || ComposedComponent.name || 'Unknown'\n    WithRouterWrapper.displayName = `withRouter(${name})`\n  }\n\n  return WithRouterWrapper\n}\n"],"names":[],"mappings":";;;;kBAgCwB,UAAU;AAhChB,GAAO,CAAP,MAAO;AAEa,GAAU,CAAV,OAAU;;;;;;SA8BxB,UAAU,CAIhC,iBAA+C,EACH,CAAC;aACpC,iBAAiB,CAAC,KAAU,EAAe,CAAC;6BAtCrC,MAAO,uBAuCb,iBAAiB;YAAC,MAAM,MArCE,OAAU;WAqCO,KAAK;IAC1D,CAAC;IAED,iBAAiB,CAAC,eAAe,GAAG,iBAAiB,CAAC,eAAe;IAEnE,iBAAiB,CAAS,mBAAmB,GAAI,iBAAiB,CAAS,mBAAmB;IAChG,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,MAAK,UAAY,GAAE,CAAC;QAC1C,KAAK,CAAC,IAAI,GACR,iBAAiB,CAAC,WAAW,IAAI,iBAAiB,CAAC,IAAI,KAAI,OAAS;QACtE,iBAAiB,CAAC,WAAW,IAAI,WAAW,EAAE,IAAI,CAAC,CAAC;IACtD,CAAC;WAEM,iBAAiB;AAC1B,CAAC"}