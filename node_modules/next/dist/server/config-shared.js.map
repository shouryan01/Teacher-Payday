{"version":3,"sources":["../../server/config-shared.ts"],"sourcesContent":["import os from 'os'\nimport { Header, Redirect, Rewrite } from '../lib/load-custom-routes'\nimport { ImageConfig, imageConfigDefault } from './image-config'\nimport { existsSync, readFileSync } from 'fs'\nimport { build as esbuild } from 'esbuild'\nimport findUp from 'next/dist/compiled/find-up'\nimport { join } from 'path'\nimport { CONFIG_FILE, PHASE_PRODUCTION_SERVER } from '../shared/lib/constants'\nimport { copy, remove } from 'fs-extra'\nimport { Middleware } from '../shared/lib/utils'\nimport { isInternalBlitzMonorepoDevelopment } from './utils'\nconst debug = require('debug')('blitz:config')\n\nexport type LogLevel = 'trace' | 'debug' | 'info' | 'warn' | 'error' | 'fatal'\nexport type LogType = 'json' | 'pretty' | 'hidden'\n\nexport function loadConfigAtRuntime() {\n  if (!process.env.BLITZ_APP_DIR) {\n    throw new Error(\n      'Internal Blitz Error: process.env.BLITZ_APP_DIR is not set'\n    )\n  }\n  return loadConfigProduction(process.env.BLITZ_APP_DIR)\n}\n\nexport function loadConfigProduction(pagesDir: string): NextConfigComplete {\n  let userConfigModule\n  try {\n    const path = join(pagesDir, CONFIG_FILE)\n    debug('Loading config from ', path)\n    // eslint-disable-next-line no-eval -- block webpack from following this module path\n    userConfigModule = eval('require')(path)\n  } catch {\n    debug('Did not find custom config file')\n    // In case user does not have custom config\n    userConfigModule = {}\n  }\n  let userConfig = normalizeConfig(\n    PHASE_PRODUCTION_SERVER,\n    userConfigModule.default || userConfigModule\n  )\n  return assignDefaultsBase(userConfig) as any\n}\n\ntype NoOptionals<T> = {\n  [P in keyof T]-?: T[P]\n}\n\nexport type NextConfigComplete = NoOptionals<NextConfig> & {\n  images: ImageConfig\n}\n\nexport interface I18NConfig {\n  defaultLocale: string\n  domains?: DomainLocale[]\n  localeDetection?: false\n  locales: string[]\n}\n\nexport interface DomainLocale {\n  defaultLocale: string\n  domain: string\n  http?: true\n  locales?: string[]\n}\n\nexport interface ESLintConfig {\n  /** Only run ESLint on these directories with `next lint` and `next build`. */\n  dirs?: string[]\n  /** Do not run ESLint during production builds (`next build`). */\n  ignoreDuringBuilds?: boolean\n}\n\nexport type NextConfig = { [key: string]: any } & {\n  i18n?: I18NConfig | null\n\n  eslint?: ESLintConfig\n\n  headers?: () => Promise<Header[]>\n  rewrites?: () => Promise<\n    | Rewrite[]\n    | {\n        beforeFiles: Rewrite[]\n        afterFiles: Rewrite[]\n        fallback: Rewrite[]\n      }\n  >\n  redirects?: () => Promise<Redirect[]>\n\n  webpack5?: false\n  excludeDefaultMomentLocales?: boolean\n\n  trailingSlash?: boolean\n  env?: { [key: string]: string | undefined }\n  distDir?: string\n  cleanDistDir?: boolean\n  assetPrefix?: string\n  useFileSystemPublicRoutes?: boolean\n  generateBuildId?: () => string | null\n  generateEtags?: boolean\n  pageExtensions?: string[]\n  compress?: boolean\n  images?: Partial<ImageConfig>\n  devIndicators?: {\n    buildActivity?: boolean\n  }\n  onDemandEntries?: {\n    maxInactiveAge?: number\n    pagesBufferLength?: number\n  }\n  amp?: {\n    canonicalBase?: string\n  }\n  basePath?: string\n  sassOptions?: { [key: string]: any }\n  productionBrowserSourceMaps?: boolean\n  optimizeFonts?: boolean\n  reactStrictMode?: boolean\n  publicRuntimeConfig?: { [key: string]: any }\n  serverRuntimeConfig?: { [key: string]: any }\n  httpAgentOptions?: { keepAlive?: boolean }\n\n  // -- Blitz start\n  cli?: {\n    clearConsoleOnBlitzDev?: boolean\n    httpProxy?: string\n    httpsProxy?: string\n    noProxy?: string\n  }\n  codegen?: {\n    templateDir?: string\n  }\n  log?: {\n    level?: LogLevel\n    type?: LogType\n  }\n  middleware?: Middleware[]\n  customServer?: {\n    hotReload?: boolean\n  }\n  // -- Blitz end\n\n  future?: {\n    /**\n     * @deprecated this options was moved to the top level\n     */\n    webpack5?: false\n    strictPostcssConfiguration?: boolean\n  }\n  experimental?: {\n    swcMinify?: boolean\n    swcLoader?: boolean\n    cpus?: number\n    plugins?: boolean\n    profiling?: boolean\n    isrFlushToDisk?: boolean\n    reactMode?: 'legacy' | 'concurrent' | 'blocking'\n    workerThreads?: boolean\n    pageEnv?: boolean\n    optimizeImages?: boolean\n    optimizeCss?: boolean\n    scrollRestoration?: boolean\n    stats?: boolean\n    externalDir?: boolean\n    conformance?: boolean\n    amp?: {\n      optimizer?: any\n      validator?: string\n      skipValidation?: boolean\n    }\n    initServer?: () => void // blitz\n    reactRoot?: boolean\n    disableOptimizedLoading?: boolean\n    gzipSize?: boolean\n    craCompat?: boolean\n    esmExternals?: boolean | 'loose'\n    staticPageGenerationTimeout?: number\n    pageDataCollectionTimeout?: number\n    isrMemoryCacheSize?: number\n    concurrentFeatures?: boolean\n  }\n}\n\nexport type BlitzConfig = NextConfig\n\nexport const defaultConfig: NextConfig = {\n  env: {},\n  webpack: null,\n  webpackDevMiddleware: null,\n  distDir: '.next',\n  cleanDistDir: true,\n  assetPrefix: '',\n  configOrigin: 'default',\n  useFileSystemPublicRoutes: true,\n  generateBuildId: () => null,\n  generateEtags: true,\n  pageExtensions: ['tsx', 'ts', 'jsx', 'js'],\n  target: 'server',\n  poweredByHeader: true,\n  compress: true,\n  analyticsId: process.env.VERCEL_ANALYTICS_ID || '',\n  images: imageConfigDefault,\n  devIndicators: {\n    buildActivity: true,\n  },\n  onDemandEntries: {\n    maxInactiveAge: 60 * 1000,\n    pagesBufferLength: 2,\n  },\n  amp: {\n    canonicalBase: '',\n  },\n  basePath: '',\n  sassOptions: {},\n  trailingSlash: false,\n  i18n: null,\n  productionBrowserSourceMaps: false,\n  optimizeFonts: true,\n  log: {\n    level: 'info',\n  },\n  webpack5:\n    Number(process.env.NEXT_PRIVATE_TEST_WEBPACK4_MODE) > 0 ? false : undefined,\n  excludeDefaultMomentLocales: true,\n  serverRuntimeConfig: {},\n  publicRuntimeConfig: {},\n  reactStrictMode: false,\n  httpAgentOptions: {\n    keepAlive: true,\n  },\n  experimental: {\n    swcLoader: false,\n    swcMinify: false,\n    cpus: Math.max(\n      1,\n      (Number(process.env.CIRCLE_NODE_TOTAL) ||\n        (os.cpus() || { length: 1 }).length) - 1\n    ),\n    plugins: false,\n    profiling: false,\n    isrFlushToDisk: true,\n    workerThreads: false,\n    pageEnv: false,\n    optimizeImages: false,\n    optimizeCss: false,\n    scrollRestoration: false,\n    stats: false,\n    externalDir: false,\n    disableOptimizedLoading: false,\n    gzipSize: true,\n    craCompat: false,\n    esmExternals: false,\n    staticPageGenerationTimeout: 60,\n    pageDataCollectionTimeout: 60,\n    // default to 50MB limit\n    isrMemoryCacheSize: 50 * 1024 * 1024,\n    concurrentFeatures: false,\n  },\n  future: {\n    strictPostcssConfiguration: false,\n  },\n}\n\nexport function assignDefaultsBase(userConfig: { [key: string]: any }) {\n  const config = Object.keys(userConfig).reduce<{ [key: string]: any }>(\n    (currentConfig, key) => {\n      const value = userConfig[key]\n\n      if (value === undefined || value === null) {\n        return currentConfig\n      }\n\n      // Copied from assignDefaults in server/config.ts\n      if (!!value && value.constructor === Object) {\n        currentConfig[key] = {\n          ...defaultConfig[key],\n          ...Object.keys(value).reduce<any>((c, k) => {\n            const v = value[k]\n            if (v !== undefined && v !== null) {\n              c[k] = v\n            }\n            return c\n          }, {}),\n        }\n      } else {\n        currentConfig[key] = value\n      }\n\n      return currentConfig\n    },\n    {}\n  )\n  const result = { ...defaultConfig, ...config }\n  return result\n}\n\nexport function normalizeConfig(phase: string, config: any) {\n  if (typeof config === 'function') {\n    config = config(phase, { defaultConfig })\n\n    if (typeof config.then === 'function') {\n      throw new Error(\n        '> Promise returned in blitz config. https://nextjs.org/docs/messages/promise-in-next-config'\n      )\n    }\n  }\n  return config\n}\n\nexport async function getConfigSrcPath(dir: string | null) {\n  if (!dir) return null\n\n  let tsPath = join(dir, 'blitz.config.ts')\n  let jsPath = join(dir, 'blitz.config.js')\n  let legacyPath = join(dir, 'next.config.js')\n\n  if (existsSync(tsPath)) {\n    return tsPath\n  } else if (existsSync(jsPath)) {\n    return jsPath\n  } else if (existsSync(legacyPath)) {\n    if (isInternalBlitzMonorepoDevelopment || process.env.VERCEL_BUILDER) {\n      // We read from next.config.js that Vercel automatically adds\n      debug(\n        'Using next.config.js because isInternalBlitzMonorepoDevelopment or VERCEL_BUILDER...'\n      )\n      return legacyPath\n    } else {\n      console.log('') // newline\n      throw new Error(\n        'Blitz does not support next.config.js. Please rename it to blitz.config.js'\n      )\n    }\n  }\n\n  if (process.env.__NEXT_TEST_MODE) {\n    let tsPath2 = join(dir, '..', 'blitz.config.ts')\n    let jsPath2 = join(dir, '..', 'blitz.config.js')\n    let legacyPath2 = join(dir, '..', 'next.config.js')\n    if (existsSync(tsPath2)) {\n      return tsPath2\n    } else if (existsSync(jsPath2)) {\n      return jsPath2\n    } else if (existsSync(legacyPath2)) {\n      return legacyPath2\n    }\n  }\n\n  return null\n}\n\nexport function getCompiledConfigPath(dir: string) {\n  return join(dir, CONFIG_FILE)\n}\n\nexport async function compileConfig(dir: string | null) {\n  debug('Starting compileConfig...')\n\n  if (!dir) {\n    debug('compileConfig given empty dir argument')\n    return\n  }\n\n  const srcPath = await getConfigSrcPath(dir)\n  debug('srcPath:', srcPath)\n  const compiledPath = getCompiledConfigPath(dir)\n  debug('compiledPath:', compiledPath)\n\n  // Remove compiled file. This is important for example when user\n  // had a config file but then removed it\n  remove(compiledPath)\n\n  if (!srcPath) {\n    debug('Did not find a config file')\n    return\n  }\n\n  if (readFileSync(srcPath, 'utf8').includes('tsconfig-paths/register')) {\n    // User is manually handling their own typescript stuff\n    debug(\n      \"Config contains 'tsconfig-paths/register', so skipping build and just copying the file\"\n    )\n    await copy(srcPath, compiledPath)\n    return\n  }\n\n  const pkgJsonPath = await findUp('package.json', { cwd: dir })\n\n  if (!pkgJsonPath) {\n    // This will happen when running blitz no inside a blitz app\n    debug('Unable to find package directory')\n    return\n  }\n\n  debug('Building config...')\n  const pkg = require(pkgJsonPath)\n\n  await esbuild({\n    entryPoints: [srcPath],\n    outfile: compiledPath,\n    format: 'cjs',\n    bundle: true,\n    platform: 'node',\n    external: [\n      '*.json',\n      '@blitzjs',\n      '@next',\n      '@zeit',\n      'blitz',\n      'next',\n      'webpack',\n      ...Object.keys(require('blitz/package').dependencies),\n      ...Object.keys(pkg?.dependencies ?? {}),\n      ...Object.keys(pkg?.devDependencies ?? {}),\n    ],\n  })\n  debug('Config built.')\n}\n"],"names":[],"mappings":"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"}