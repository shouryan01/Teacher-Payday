{"version":3,"sources":["../../data-client/invoke.ts"],"sourcesContent":["import { AsyncFunc, FirstParam, PromiseReturnType } from '../types/utils'\nimport { isClient } from '../stdlib/index'\nimport { RpcClient } from './rpc'\n\nexport function invoke<T extends AsyncFunc, TInput = FirstParam<T>>(\n  queryFn: T,\n  params: TInput\n): Promise<PromiseReturnType<T>> {\n  if (typeof queryFn === 'undefined') {\n    throw new Error(\n      'invoke is missing the first argument - it must be a query or mutation function'\n    )\n  }\n\n  if (isClient) {\n    const fn = (queryFn as unknown) as RpcClient\n    return fn(params, { fromInvoke: true }) as ReturnType<T>\n  } else {\n    const fn = (queryFn as unknown) as RpcClient\n    return fn(params) as ReturnType<T>\n  }\n}\n"],"names":[],"mappings":";;;;QAIgB,MAAM,GAAN,MAAM;AAHG,GAAiB,CAAjB,MAAiB;SAG1B,MAAM,CACpB,OAAU,EACV,MAAc,EACiB,CAAC;IAChC,EAAE,SAAS,OAAO,MAAK,SAAW,GAAE,CAAC;QACnC,KAAK,CAAC,GAAG,CAAC,KAAK,EACb,8EAAgF;IAEpF,CAAC;IAED,EAAE,EAbqB,MAAiB,WAa1B,CAAC;QACb,KAAK,CAAC,EAAE,GAAI,OAAO;eACZ,EAAE,CAAC,MAAM;YAAI,UAAU,EAAE,IAAI;;IACtC,CAAC,MAAM,CAAC;QACN,KAAK,CAAC,EAAE,GAAI,OAAO;eACZ,EAAE,CAAC,MAAM;IAClB,CAAC;AACH,CAAC"}