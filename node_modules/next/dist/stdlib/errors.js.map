{"version":3,"sources":["../../stdlib/errors.ts"],"sourcesContent":["import SuperJson from 'superjson'\nimport type { UrlObject } from 'url'\n\nconst errorProps = ['name', 'message', 'code', 'statusCode', 'meta', 'url']\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.allowErrorProps(...errorProps)\n}\n\nexport class AuthenticationError extends Error {\n  name = 'AuthenticationError'\n  statusCode = 401\n  constructor(message = 'You must be logged in to access this') {\n    super(message)\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(AuthenticationError, {\n    identifier: 'BlitzAuthenticationError',\n    allowProps: errorProps,\n  })\n}\n\nexport class CSRFTokenMismatchError extends Error {\n  name = 'CSRFTokenMismatchError'\n  statusCode = 401\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(CSRFTokenMismatchError, {\n    identifier: 'BlitzCSRFTokenMismatchError',\n    allowProps: errorProps,\n  })\n}\n\nexport class AuthorizationError extends Error {\n  name = 'AuthorizationError'\n  statusCode = 403\n  constructor(message = 'You are not authorized to access this') {\n    super(message)\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(AuthorizationError, {\n    identifier: 'BlitzAuthorizationError',\n    allowProps: errorProps,\n  })\n}\n\nexport class NotFoundError extends Error {\n  name = 'NotFoundError'\n  statusCode = 404\n  constructor(message = 'This could not be found') {\n    super(message)\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(NotFoundError, {\n    identifier: 'BlitzNotFoundError',\n    allowProps: errorProps,\n  })\n}\n\nexport class PaginationArgumentError extends Error {\n  name = 'PaginationArgumentError'\n  statusCode = 422\n  constructor(message = 'The pagination arguments are invalid') {\n    super(message)\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(PaginationArgumentError, {\n    identifier: 'BlitzPaginationArgumentError',\n    allowProps: errorProps,\n  })\n}\n\nexport class RedirectError extends Error {\n  name = 'RedirectError'\n  statusCode = 302\n  url: UrlObject | string\n  constructor(url: UrlObject | string) {\n    super(typeof url === 'object' ? url.href! : url)\n    this.url = url\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(RedirectError, {\n    identifier: 'BlitzRedirectError',\n    allowProps: errorProps,\n  })\n}\n"],"names":[],"mappings":"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"}