{"version":3,"sources":["../../stdlib/index.ts"],"sourcesContent":["export { Routes } from '.blitz'\nexport * from './errors'\nexport * from './zod-utils'\nexport * from './prisma-utils'\nexport * from './error-boundary'\nexport * from './blitz-app-root'\nexport {\n  default as Router,\n  BlitzRouter,\n  SingletonRouter,\n  RouterEvent,\n  withRouter,\n  useRouter,\n  useRouterQuery,\n  useParams,\n  useParam,\n} from '../client/router'\nexport { RouterContext } from '../shared/lib/router-context'\n\nexport const isServer = typeof window === 'undefined'\nexport const isClient = typeof window !== 'undefined'\n\nconst MILLISECONDS_IN_MINUTE = 60000\nconst MINUTES_IN_YEAR = 525960\n\nexport const isPast = (date: Date) => {\n  return date.getTime() < Date.now()\n}\n\nexport function differenceInMilliseconds(dateLeft: Date, dateRight: Date) {\n  return dateLeft.getTime() - dateRight.getTime()\n}\n\nexport function differenceInMinutes(dateLeft: Date, dateRight: Date) {\n  const diff =\n    differenceInMilliseconds(dateLeft, dateRight) / MILLISECONDS_IN_MINUTE\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nexport function addMilliseconds(date: Date, amount: number): Date {\n  const timestamp = date.getTime()\n  const cleanAmount = toInteger(amount)\n  return new Date(timestamp + cleanAmount)\n}\n\nexport function addMinutes(date: Date, amount: number): Date {\n  const cleanAmount = toInteger(amount)\n  return addMilliseconds(date, cleanAmount * MILLISECONDS_IN_MINUTE)\n}\n\nexport function addYears(date: Date, amount: number): Date {\n  const cleanAmount = toInteger(amount)\n  return addMinutes(date, cleanAmount * MINUTES_IN_YEAR)\n}\n\nfunction toInteger(dirtyNumber: unknown) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN\n  }\n\n  const number = Number(dirtyNumber)\n\n  if (isNaN(number)) {\n    return number\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number)\n}\n\n// Taken from https://github.com/HenrikJoreteg/cookie-getter\n// simple commonJS cookie reader, best perf according to http://jsperf.com/cookie-parsing\nexport function readCookie(name: string) {\n  if (typeof document === 'undefined') return null\n  const cookie = document.cookie\n  const setPos = cookie.search(new RegExp('\\\\b' + name + '='))\n  const stopPos = cookie.indexOf(';', setPos)\n  let res\n  if (!~setPos) return null\n  res = decodeURIComponent(\n    cookie.substring(setPos, ~stopPos ? stopPos : undefined).split('=')[1]\n  )\n  return res.charAt(0) === '{' ? JSON.parse(res) : res\n}\n\nexport const setCookie = (name: string, value: string, expires: string) => {\n  const result = `${name}=${value};path=/;expires=${expires}`\n  document.cookie = result\n}\nexport const deleteCookie = (name: string) =>\n  setCookie(name, '', 'Thu, 01 Jan 1970 00:00:01 GMT')\n"],"names":[],"mappings":"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"}